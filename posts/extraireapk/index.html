<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>Extraire le fichier apk d'une application Android - Loonaire Blog</title><meta name=description content="Pour commencer, il faut:
Un smartphone Android avec les options de développeur et le mode débogage activé (taper 7 fois sur le numéro de build dans les paramètres pour activer le mode développeur puis dans le mode développeur activer le mode débogage). Un ordinateur avec android platform tools installé (disponible ici) Localiser l&rsquo;application Pour commencer, s&rsquo;assurer sur le téléphone est reconnu par la commande suivante:
adb devices Ensuite Pour afficher la liste des applications installées, il faut utiliser la commande:"><meta name=author content><link href=https://unpkg.com/@master/normal.css rel=stylesheet><script src=https://unpkg.com/@master/style@1.5.0></script>
<script src=https://unpkg.com/@master/styles@1.13.0></script>
<script src=https://unpkg.com/master-styles-group></script>
<script src=https://unpkg.com/themes.js></script>
<script>window.themes=window.themes||new window.Themes</script></head><body class="bg:fade-84@dark font:fade-16@dark"><nav class="w:full h:90 fixed bg:fade-84/.95@dark bg:white z:1000"><div class="h:full
w:full
max-w:1200
mx:auto
px:32
d:flex
align-items:center"><div><a href=../../ class="mr-3 font:extralight">Loonaire Blog</a></div><div class=ml:auto><a class="font:semibold
font:fade
font:fade-10:hover
font:fade-30.active
px:8
transition:150ms;ease-in" href=../../posts/ title>Articles</a>
<a class="font:semibold
font:fade
font:fade-10:hover
font:fade-30.active
px:8
transition:150ms;ease-in" href=../../other/ title>Autre contenu</a>
<a class="font:semibold
font:fade
font:fade-10:hover
font:fade-30.active
px:8
transition:150ms;ease-in" href=../../about title>A propos</a></div></div></nav><div class="d:flex flex:column@<=sm pt:90 px:24 jc:center gap:44 word-break:break-word"><div class="max-w:700 w:full box:content-box"><article class="box:border-box pt:32"><header class=mb:32><div class="font:40 font:extrabold">Extraire le fichier apk d'une application Android</div><div class="mt:16 f:fade-60"><time>27 août 2023</time></div></header><div class="_:where(a):hover{text-decoration-color:fade}
_:where(a){text-decoration:2;underline;fade-10;_text-decoration-color:fade-70@dark}
_:where(blockquote){bl:5;solid;fade-76/.1;_bl:5;solid;fade-34/.1@dark}
_:where(code){font:90%;_v:middle}
_:where(code:not(.highlight_*,pre_*)){p:2;6;_r:4}
_:where(del){text-decoration:1;line-through;fade-68;_text-decoration-color:red-64@dark}
_:where(figcaption){text:14;_p:10;20;0;_width:fit;_mx:auto;_font:fade-56;_font:fade-57@dark}
_:where(h1){font:40;_font:extrabold}
_:where(h1,h2,h3)+:where(h1,h2,h3){mt:.5em}
_:where(h1,h2,h3,h4,h5,h6){mt:2em}
_:where(h2){mb:1em;_font:32}
_:where(h3){font:24}
_:where(h4){font:20}
_:where(h5){font:16}
_:where(h6){font:14}
_:where(li)::marker{font:fade-44;_font:fade-68@dark}
_:where(li){pl:.375em}
_:where(mark){text-decoration:1;underline;#fce016;_bg:transparent;_text-decoration-color:rgb(252;224;22/.5)@dark}
_:where(p,li){font:fade-76;_font:16;_line-height:1.65;_font:fade-34@dark}
_:where(p,pre,blockquote,figure,ul,ol,table){my:1.125em}
>:first-child{mt:0!}
_:where(pre){p:20;_r:8;_overflow:auto}
_:where(pre,code:not(.highlight_*)){bg:fade-2;_bg:fade-92!@dark}
_:where(strong,b,a,code:not(.highlight_*),mark,del){font:fade-92;_font:fade-12@dark}
_:where(table){width:full;_border-spacing:0}
_:where(td){v:baseline}
_:where(td,th):first-child{pl:0}
_:where(td,th):last-child{pr:0}
_:where(td,th){bb:1;solid;fade-92/.06;_p:6;_b:fade-4/.04@dark}
_:where(th){font:fade-78;_font:14;_text:left;_font:fade-12@dark}
_:where(th,p_code,li_code,a,mark){font:semibold;_font:medium@dark}
_:where(ul){list-style-type:disc}
_:where(ul,ol,blockquote){pl:1.5em}
_:where(video,img){max-width:full}
_:where(a,mark){text-underline-offset:3}"><p>Pour commencer, il faut:</p><ul><li>Un smartphone Android avec les options de développeur et le mode débogage activé (taper 7 fois sur le numéro de build dans les paramètres pour activer le mode développeur puis dans le mode développeur activer le mode débogage).</li><li>Un ordinateur avec android platform tools installé (disponible <a href=https://developer.android.com/tools/releases/platform-tools>ici</a>)</li></ul><h2 id=localiser-lapplication>Localiser l&rsquo;application</h2><p>Pour commencer, s&rsquo;assurer sur le téléphone est reconnu par la commande suivante:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>adb devices
</span></span></code></pre></div><p>Ensuite Pour afficher la liste des applications installées, il faut utiliser la commande:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>adb shell pm list packages -f -3
</span></span></code></pre></div><p>Sous linux, pour affiner les recherches, il est possible d&rsquo;utiliser grep, exemple avec une application de génération de mot de passe que j&rsquo;ai développée:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>adb shell pm list packages -f -3 | grep *com.loonaire.*
</span></span></code></pre></div><p>Sous Windows, la commande est la suivante:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>adb shell pm list packages -f -3 | findstr com.loonaire
</span></span></code></pre></div><p>Le résultat sera:</p><blockquote><p>package:/data/app/~~1q6hQk2QhK8pr2btHKVv6Q==/com.loonaire.GoPasswordGenerator-Y4kXay1AOFJ4PL4jxJRczA==/base.apk=com.loonaire.GoPasswordGenerator</p></blockquote><h2 id=récupérer-lapk>Récupérer l&rsquo;APK</h2><p>Pour récupérer l&rsquo;apk, il faut utiliser le squelette de commande suivant:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>adb pull /data/app/cheminVersLApp/base.apk nomDuFichierExtrait.apk
</span></span></code></pre></div><p>Voici la commande de mon exemple:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>adb pull /data/app/~~1q6hQk2QhK8pr2btHKVv6Q<span style=color:#f92672>==</span>/com.loonaire.GoPasswordGenerator-Y4kXay1AOFJ4PL4jxJRczA<span style=color:#f92672>==</span>/base.apk passwordGenerator.apk
</span></span></code></pre></div><p>L&rsquo;apk pourra être réinstaller sur un autre appareil.<br>Pour installer l&rsquo;apk depuis adb:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>adb install nomFichier.apk
</span></span></code></pre></div><h2 id=extraire-les-données-dapplication>Extraire les données d&rsquo;application</h2><blockquote><p>Attention: Ce système est dépréciée depuis Android 13 et sera retiré un jour</p></blockquote><p>Pour extraire l&rsquo;apk et les données de l&rsquo;application:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>adb backup -apk nomApp -f nomBackup.adb
</span></span></code></pre></div><p>Pour suivre mon exemple:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>adb backup -apk com.loonaire.GoPasswordGenerator -f passwordGenerator.adb
</span></span></code></pre></div><p>Il faut ensuite choisir de sauvegarder les données sur le téléphones.</p><p>Pour restaurer une application:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>adb restore <span style=color:#e6db74>&#34;nom du fichier backup&#34;</span>
</span></span></code></pre></div><h2 id=source>Source</h2><p><a href=https://gist.github.com/AnatomicJC/e773dd55ae60ab0b2d6dd2351eb977c1>https://gist.github.com/AnatomicJC/e773dd55ae60ab0b2d6dd2351eb977c1</a></p></div></article><footer class=py:24><div class="f:fade-30 f:14 mb:8">copyright ©Loonaire</div><div class="f:fade-60 f:12">Theme <a class=f:bold href=https://github.com/serkodev/holy _target=_blank>Holy</a></div></footer></div></div></body></html>